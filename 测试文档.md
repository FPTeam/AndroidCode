
# 测试文档


# 一丶引言

## 1.1编写目的

	为了尽可能的找出软件的不足，提高软件的质量，促进软件的成功验收，专门编写本文档。其主要目的在于为所要进行的测试工作制定各种必要的准则和规范，以及在有关方面协议的基础上对测试工作进行合理组织与管理。

## 1.2术语

	本文档所提及的术语，其定义遵照GB/T 11457标准。

	

## 1.3参照标准

    GB 9386-1988计算机软件测试文件编制指南。

# 二、测试内容

## 2.1合法性检查

	检查开发小组在开发本软件时，使用的开发工具是否合法。对在编程中使用的一些非本开发小组自己开发的，也不是由开发工具提供的控件、组件、函数库等，检查其是否有合法的发布许可。

## 2.2软件代码测试

### 2.2.1源代码一般性检查

> 1.命名规范检查

| 测试目标 | 检查源代码中的变量、函数、对象、过程等的命名是否符合约定 |
|:----:|:----:|
| 测试方法和技术 | 根据软件工程文档的约定，对代码进行检查 |
| 完成标准 | 软件中重要部分都按规定命名 |
| 需考虑的特殊事项 | 无 |


> 2.注释检查

| 项目 | 内容 |
|:----:|:----:|
| 课程 | 大型软件设计 |
| 团队名称 |   |
| 作业正文 | “小世界”旅行软件——软件实现与测试 |
| 其他参考文献 | [1]GB-T8567-2006，《计算机软件文档编制规范》[S]</br>[2].（美）Roger S.Pressman著，郑人杰等译.软件工程[M].第七版.北京：机械工业出版社,2011.[3] |


> 3.限制性检查

| 测试目标 | 本软件中，主要检测注册用户的用户名是否重复、发布动态的权限显示 |
|:----:|:----:|
| 测试方法和技术 | 在注册页面重复注册，测试是否可以拒绝；为发布的动态设置不同权限，测试其他用户是否能看见|
| 完成标准 | 重复注册出现错误提示；当权限设置为他人不可见时，其他人进入用户主页看不到该动态。 |
| 需考虑的特殊事项 | 无 |


### 2.2.2软件一致性检查

> 1.编译检查

	要求提交的源代码在其规定的编译环境中，能够重新编译无错误，并且能够完成相应的功能，从而确定移交的确实是正确的源代码。

> 2.安装/卸载检查

	在新系统上用交付的软件项目工程生成的安装包重新安装软件，并且通过运行这些软件模块，能否完成相应的功能，从而确定移交的软件项目工程确实是正确的工程。

	在安装后立即卸载所安装的模块，并且检查是否能够做到彻底卸载。

> 3.运行模块检查

	将新安装的软件与现场运行模块用软件工具抽样比较，确认提交的软件工程与现场运行软件一致。

### 2.2.3软件代码测试报告

> 1.旅程规划模块


| 测试用例编号 | 1 | 测试需求项 | 旅程规划模块 | 设计者 | 李思勤 |
|:----|:----|:----|:----|:----:|:----:|
|    |    |    |    | 设计日期 | 2019.12.20. |
| 测试目标状态和测试数据状态 |    | 达到预期要求 |    |    |    |
| 序号 | 测试项 | 输入说明（操作） |    | 输出说明（预期结果） |    |
| 1 | 搜索附近景点 | 在“广场”页面点击“附近景点”图标按钮 |    | 显示地图，在地图上标记出当前定位以及附近景点（最多显示20个） |   |
|    |    | 点击“下一页"按钮 |    | 如果搜索结果大于20个，显示后20个搜索结果的景点标记 |    |
| 2 | 添加景点到旅程规划列表中 | 点击地图上的蓝色的景点标记 |    | 景点标记附近弹出窗口显示景点的详细信息和添加景点按钮（空心加号） |    |
|    |    | 点击弹出窗口中的空心加号图标 |    | 景点名字在屏幕下方列表中显示，”添加景点“提示变成"已添加"，空心加号图标变成实心加号图标，标记从蓝色变为红色 |    |
| 3 | 将已添加到旅程规划列表中的景点删除 | 点击地图上红色的景点标记 |    | 景点标记附近弹出窗口显示景点的详细信息和已添加按钮（实心加号） |    |
|    |    | 点击弹出窗口中的实心加号图标 |    | 将景点名字在屏幕下方列表中删除，”已添加“提示变成"添加景点"，实心加号图标变成空心加号图标，标记从红色变为蓝色 |    |
| 4 | 规划旅行路线 | 点击“一键规划"按钮 |    | 地图上显示一条以当前定位为起点，经过所有景点的路线，用不同标记标识出起点、终点和途经点，点击标记显示详细信息。屏幕下方显示总路线的距离，以及驾车需要的时间、打的需要的费用等信息 |    |
|    |    | 点击”详情"按钮 |    | 显示驾车的详细路线描述 |    |


> 2.搜索酒店模块


| 测试用例编号 | 2 | 测试需求项 | 搜索酒店模块 | 设计者 | 李思勤 |
|:----|:----|:----|:----|:----:|:----:|
|    |    |    |    | 设计日期 | 2019.12.20. |
| 测试目标状态和测试数据状态 |    | 达到预期要求 |    |    |    |
| 序号 | 测试项 | 输入说明（操作） |    | 输出说明（预期结果） |    |
| 1 | 搜索附近酒店 | 在“广场”页面点击“附近酒店”图标按钮 |    | 显示地图，在地图上标记出当前定位以及附近酒店（最多显示20个） |    |
|    |    | 点击“下一页"按钮 |    | 如果搜索结果大于20个，显示后20个搜索结果的酒店标记 |    |
| 2 | 查看酒店详细信息 | 点击地图上的蓝色标记 |    | 酒店标记附近弹出窗口显示酒店的详细信息和导航按钮 |    |
| 3 | 导航到酒店 | 点击弹出窗口的导航图标 |    | 若手机安装了高德地图app，则以该酒店为终点，直接跳转到高德地图app驾车导航界面；如果没有安装，则跳转到提示安装高德地图界面 | |


> 3.自定义POI搜索模块

| 测试用例编号 | 3 | 测试需求项 | 自定义POI搜索模块 | 设计者 | 李思勤 |
|:----|:----|:----|:----|:----:|:----:|
|    |    |    |    | 设计日期 | 2019.12.20. |
| 测试目标状态和测试数据状态 |    | 达到预期要求 |    |    |    |
| 序号 | 测试项 | 输入说明（操作） |    | 输出说明（预期结果） |    |
| 1 | 搜索指定地点指定关键字 | 在“广场”页面点击“更多”图标按钮 |    | 显示地图，地图下方有两个输入框，分别提示输入城市和关键字 |    |
|    |    | 输入城市和关键字字段之后点击“开始搜索"按钮 |    | 在地图上标记出指定城市的指定关键字搜索结果（最多显示20个），如果城市字段为空，默认搜索区域为全国 |    |
|    |    | 点击“下一页"按钮 |    | 如果搜索结果大于20个，显示后20个搜索结果的标记 |    |
| 2 | 查看标记详细信息 | 点击地图上的蓝色标记 |    | 酒店标记附近弹出窗口显示标记的详细信息和导航按钮 |    |
| 3 | 导航到标记地点 | 点击弹出窗口的导航图标 |    | 若手机安装了高德地图app，则以该标记地址为终点，直接跳转到高德地图app驾车导航界面；如果没有安装，则跳转到提示安装高德地图界面 |    |


> 4.个人主页模块

| 测试用例编号 | 4 | 测试需求项 | 个人主页模块 | 设计者 | 张玥、邹珺明、李思勤 |
|:----|:----|:----|:----|:----:|:----:|
|    |    |    |    | 设计日期 | 2019.12.20 |
| 测试目标状态和测试数据状态 |    | 部分达到预期要求 |    |    |    |
| 序号 | 测试项 | 输入说明（操作） |    | 输出说明（预期结果） |    |
| 1 | 页面显示和滑动效果 | 进入个人主页 |    | 外框架显示主人头像、用户名、介绍等信息，有“动态”、“时光轴"、“关于我”三个栏目 |    |
|    |    | 向上滑动 |    | 框架上部分的主人信息隐藏，顶部仅显示用户名，下方继续加载页面后面的内容 |    |
| 2 | “动态”页面 | 进入个人主页默认“动态”页面，或“时光轴”页面左滑进入 |    | 显示主人发表的所有动态 |    |
| 3 | “时光轴”页面 | “动态”页面右滑进入，或“关于我”页面左滑进入 |    | 显示主人旅行的时光轴 |    |
| 4 | “关于我”页面 | “时光轴”页面右滑进入 |    | “我的足迹”区域将主人去过的省份在灰色地图上点亮，“个人信息”区域显示该用户账号、性别、自我介绍等信息 |    |


> 5.发布动态模块

| 测试用例编号 | 5 | 测试需求项 | 发布动态模块 | 设计者 | 唐天龙、李思勤 |
|:----|:----|:----|:----|:----:|:----:|
|    |    |    |    | 设计日期 | 2019.12.20 |
| 测试目标状态和测试数据状态 |    | 部分达到预期要求 |    |    |    |
| 序号 | 测试项 | 输入说明（操作） |    | 输出说明（预期结果） |    |
| 1 | 发布地点定位 | 进入个人主页 |    | 若还未得到定位，显示“正在定位”，定位成功显示定位信息，定位失败显示“定位失败”，并提示错误信息 |    |
| 2 | 添加图片 | 点击加号图标 |    | 弹出选项框，有“拍照”和“相册”两个选项 |    |
|    |    | 点击“拍照”选项 |    | 调用手机照相机拍照 |    |
|    |    | 点击“相册”按钮 |    | 打开手机相册并选择图片添加到动态 |    |
| 3 | 添加动态限定项 | 点击“公开发表”开关 |    | 开关为绿色表示动态公开发表，为白色表示不公开发表 |    |
|    |    | 点击“添加标签”按钮 |    | 给该动态添加标签 |    |
|    |    | 点击“结束旅程”开关 |    | 开关为绿色表示本次旅程结束，为白色表示本次旅程还未结束 |    |


> 6.关注模块

| 测试用例编号 | 6 | 测试需求项 | 关注模块 | 设计者 |    |
|:----|:----|:----|:----|:----:|:----:|
|    |    |    |    | 设计日期 | 2019.12.20 |
| 测试目标状态和测试数据状态 |    | 部分达到预期要求 |    |    |    |
| 序号 | 测试项 | 输入说明（操作） |    | 输出说明（预期结果） |    |
| 1 | 搜索关注的人 | 输入关注用户的名字 |    | 若该用户存在，则显示一条用户数据；若不存在该用户，则显示用户不存在。 |    |
| 2 | 收藏和点赞按钮 | 点击“点赞”选项 |    | 如果没点赞过，点赞数加一；如果点赞过，则不可点击 |    |
|    |    | 点击“收藏”按钮 |    | 如果没收藏过，收藏数加一，同时在我的收藏里新加一条；如果收藏过，则不可点击 |    |
| 3 | 定位按钮 | 点击定位按钮 |    | 显示当前地理位置 |    |


> 7.添加笔记模块

| 测试用例编号 | 7 | 测试需求项 | 添加笔记模块 | 设计者 |    |
|:----|:----|:----|:----|:----:|:----:|
|    |    |    |    | 设计日期 | 2019.12.20 |
| 测试目标状态和测试数据状态 |    | 部分达到预期要求 |    |    |    |
| 序号 | 测试项 | 输入说明（操作） |    | 输出说明（预期结果） |    |
| 1 | 笔记编辑 | 点击相应空白处 |    | 键盘向上滑出，可以对其进行文字编辑 |    |
|    |    | 双击相应空白处 |    | 键盘收回，显示文字 |    |
| 2 | 添加图片按钮 | 点击“添加图片按钮” |    | 弹出拍照和相册两个选项；点击拍照后，调用摄像头；点击相册后，从相册选取图片；点击空白处，回到原来的界面。 |    |
| 3 | 定位按钮 | 点击定位按钮 |    | 显示当前地理位置 |    |
| 4 | 公开发表按钮 | 点击按钮 |    | 如果按钮是灰色的，点击变绿，其他用户可以查看；如果按钮是绿色的，点击变灰，其他用户不可以查看； |    |
| 5 | 添加标签按钮 | 点击添加标签按钮 |    | 出现相应标签，用户可以选择添加； |    |


> 8.设置模块

| 测试用例编号 | 8 | 测试需求项 | 设置模块 | 设计者 | 白云鹏 |
|:----|:----|:----|:----|:----:|:----:|
|    |    |    |    | 设计日期 | 2019.12.20 |
| 测试目标状态和测试数据状态 |    | 部分达到预期要求 |    |    |    |
| 序号 | 测试项 | 输入说明（操作） |    | 输出说明（预期结果） |    |
| 1 | 头像 | 无操作 |    | 显示头像 |    |
|    |    | 点击头像 |    | 跳转到个人主页 |    |
| 2 | 个人信息编辑 | 点击个人信息编辑按钮 |    | 跳转到个人信息修改页面并进行下一步操作 |    |
| 3 | 账号管理 | 点击账号管理按钮 |    | 跳转到个人信息修改页面并进行下一步操作 |    |
| 4 | 密码设置 | 点击密码设置按钮 |    | 跳转到个人信息修改页面并进行下一步操作 |    |
| 5 | 隐私设置 | 点击隐私设置按钮 |    | 跳转到个人信息修改页面并进行下一步操作 |    |
| 6 | 联系我们 | 点击联系我们按钮 |    | 跳转到个人信息修改页面并进行下一步操作 |    |




## 2.3软件系统测试

### 2.3.1界面测试

| 姓名 | 学号 | 分工 | 比例 |
|:----:|:----:|:----:|:----:|
| 张婷 | 2017301500138 | 编写了广场页面，实现了程序底部导航栏与各模块页面之间的适配，美化了发布界面、制作了展示PPT | 12.5% |
| 张玥 | 2017301500140 | 完善了个人主页，美化了地图界面，整合并重构了不同功能模块之间的结构关系，创建了具有点击效果的自定义样式，编写了设置页面（包括所有分页面）的返回跳转 |12.5% |
| 邹珺明 | 2017301500141 | 关注界面、广场界面、个人动态界面说说显示，关注界面特定关注者的搜索、说说点赞、收藏显示 | 12.5% |
| 庄瑾 | 2017301500132 | 安卓端与服务器(springboot实现）的连接与部分数据传送  数据库部分函数的编写 URL传图片的可实施性(最后还是用了BLOB) | 12.5% |
| 黄盈萤 | 2017301500321 | 大部分数据库查增删语句的编写，提供接口，数据库原始数据的添加，动态文字图片显示的调试 | 12.5% |
| 李思勤 | 2017301500318 | 将景点规划细化成旅途规划、查询酒店、自定义城市和关键字查询三个模块，修复了了定位和景点规划中的bug，实现了页面间userId的传递，用户名及用户信息的显示，部分数据库查询语句，测试文档的部分编写 | 12.5% |
| 白云鹏 | 2017301500139 | 设置功能的几个类、ListVeiw实现通知的显示、几个小布局的设计、第三次迭代的测试工作，协同书写测试文档 | 12.5% |
| 唐天龙 | 2017301500107 | 登陆/动态/设置界面功能设计,上传cnblog | 12.5% |


### 2.3.2功能测试

| 测试目标 | 确保功能测试面求项以及用例场景能够实现 |
|:----:|:----:|
| 测试方法和技术 | 利用虚拟机和SQLite数据库测试功能用例。主要核实以下内容:1使用有效数据时得到预期的结果。2.在使用无效数据时显示相应的错误消息或警告消息。 |
| 完成标准 | 所有测试用例都使用到，且系统中的功能全部都测试到。 |
| 需考虑的特殊事项 | 无 |


###2.3.3性能测试

| 测试目标 | 针对系统的响应时间、并发性、吞吐量等方面制定测试用例，分析结果确定系统性能。 |
|:----:|:----:|
| 测试方法和技术 | 利用虚拟机和SQLite数据库测试功能用例。同时让多个用户对系统进行访问，对每个不同性能进行测试。 |
| 完成标准 | 在所有用例都使用完毕的情况下，无重大问题发生。 |
| 需考虑的特殊事项 | 无 |


### 2.3.4强度测试

| 测试目标 | 在极端情况下出现的错误 |
|:----:|:----:|
| 测试方法和技术 | 在资源少和共享资源竞争的情况下发现可能的错误 |
| 完成标准 | 在极端情况下依然可以正常运行 |
| 需考虑的特殊事项 | 无 |


### 2.3.5容量测试

| 测试目标 | 使用大量数据给软件以考验，以确定达到限制时是否引发软件发生错误。 |
|:----:|:----:|
| 测试方法和技术 | 对其正常值以增加一个数量级，即x10 来确定“大量数据”的值。 |
| 完成标准 | 在输入大量数据的情况下，依然无重大问题发生。 |
| 需考虑的特殊事项 | 无 |


### 2.3.6安装测试

| 测试目标 | 核实在以下情况下，测试对象可正确地安装到各种所需的安卓手机中，或从手机上卸载。 |
|:----:|:----:|
| 测试方法和技术 | 手机下载apk安装包并执行安装操作 |
| 完成标准 | 软件能够成功执行，没有出现任何故障。软件完全却载，没有残余。 |
| 需考虑的特殊事项 | 安装时，对于申请的手机权限应该提示。 |


### 2.3.7破坏性测试

| 测试目标 | 输入错误的或非法的数据(类型)，检查软件的报错纠错的能力及稳定性。并测试可连续使用影长时间而系统不崩溃。 |
|:----:|:----:|
| 测试方法和技术 | 在软件中输入非法数据并提交 |
| 完成标准 | 软件对非法数据报告错误或者提示错误信息 |
| 需考虑的特殊事项 | 无 |


### 2.3.8可用性测试

| 测试目标 | 测试操作是否方便，用户界面是否友好等。测试系统是否有影响操作流程的界面Bug和功能Bug,记录具体Bug的数量、出现频率和严重程度。 |
|:----:|:----:|
| 测试方法和技术 | 让不同的用户对系统进行使用，并在系统中输入不同的数据。 |
| 完成标准 | 系统对非法数据报告错误或者提示错误信息。 |
| 需考虑的特殊事项 | 无 |



# 三、测试日志

| 序号 | 测试项名称 | 操作步骤及现象 | 错误修改及原因简述 | 回测 |
|:----:|:----:|:----:|:----:|:----:|
| 1 | 发表动态时的定位 | 当第二次及以后进入发表动态页面时，无法显示定位 | 原因：定位监听在同一地点第二次启动时监听不到动作  修改：第一次进入发布动态页面时将定位结果记录，短时间内再次进入该页面时显示刚才定位的结果 | 合格 |
| 2 | 旅程规划 | 规划好的路线中起点的定位信息显示为null | 原因：起点定位没有成功传给startMarker  修改：将起点定位信息作为参数向地图添加标记，返回值作为startMarker的值 | 合格 |
|    |    | 只选择一个景点时闪退 | 原因：只选择一个景点时途经点为空，规划函数出现错误  修改：增加对途经点为空的处理 | 合格 |
| 3 | 关注模块 | 下拉菜单无效，未点击搜索栏也出现 | 原因：搜索栏的功能未完善 | 待完善 |
|    |    | 点击搜索栏，无法搜索到其他用户的信息 | 没有实现服务器的配置和相应数据库的存储，无法在多用户见统一数据 |    |
| 4 | 添加笔记模块 | 点击添加标签按钮无反应 | 添加标签按钮功能未完善 | 合格 |
| 5 | 设置模块 | 点击密码设置程序崩溃 | 原因：使用Intent向一个非活动中传信息，出现错误。改正方法：直接调用DbHelper中的函数进行设置 | 合格 |
| 6 | 通知模块 | 点击小铃铛按钮程序崩溃 | 	在NewMegActivity   里有Adapter，由Activity改成Fragment出现错误，怀疑是上下文的问题 | 不合格 |
|    |    | 不能真正实现用户的点赞通知 | 1、   数据库未完善2、   没有真正的服务器，在单机上实现效果没有意义 |    |
| 7 | 动态模块 | 点赞时可以多次点击而且点赞数一直累加 | 原因：未进行相应的约束 | 合格 |
|    |    | 收藏时可以多次点击而且收藏数可以一直累加 | 原因：未进行相应的约束以及我的收藏功能未实现 |    |



# 四、测试总结

	本次测试从不同的功能模块入手，逐一地对其中的功能进行详尽的测试。由于安卓的手机应用中有许多控件，所以此次测试主要是从用户的角度进行。

	在测试的过程中，发现了一些在开发过程中未发现的错误，这对我们的调试和进一步迭代开发有很大的益处。由于同学们是边学习Android边进行开发，开发过程难免有失当之处。测试中发现的主要的问题是Android的Activity和Fragment容易使开发的同学产生误解，导致偶尔会出现程序崩溃的情况。还有就是数据库的数据量不足，数据的组织和设计有待进一步完善，存取数据库的功能有待完善。

	最大的问题是服务器的问题，由于我们的App开发的初衷是要实现点赞，看别人的主页等功能。这势必存在数据一致性的问题以及两个用户的数据进行交互的问题。无论从哪个角度来讲，只在本机上进行数据库的存储是不甚合理的。由此在开发过程中产生了一些问题，比如点赞数的更新，可以一直点赞的情况，都有待后续迭代过程进一步完善和修改。

	测试过程最大的收获是对整个App的运行情况有了较为细致的了解，更重要的是为同学们的开发提供进一步的参考。

